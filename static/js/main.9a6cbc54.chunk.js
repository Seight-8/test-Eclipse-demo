(this["webpackJsonptest-eclipse"]=this["webpackJsonptest-eclipse"]||[]).push([[0],{15:function(e,t,a){e.exports=a(29)},20:function(e,t,a){},21:function(e,t,a){},22:function(e,t,a){},29:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(9),i=a.n(r),c=(a(20),a(3)),s=a(4),o=a(7),u=a(6),d=(a(21),a(22),a(1)),m=a(5),p=function(e){return{type:"SELECTOR",payload:e}},v=function(e){return{type:"UPDATE_TR",payload:{id:e.id,name:e.name,price:e.price,image:e.image,mark:!0,amount:e.amount}}},E=function(e){return{type:"UPDATE_FL",payload:{id:e.id,name:e.name,price:e.price,image:e.image,mark:!1,amount:e.amount}}},h=function(e,t,a){var n={id:e,price:t,mark:a};return{type:"SLIDER_UPP",payload:n}},b=function(e,t,a){var n={id:e,price:t,mark:a};return{type:"SLIDER_ADD",payload:n}},f=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"select_product",value:function(e){!1===e.mark?(this.props.updateMark_tr(e),this.props.slider_upp(e.id,e.price,!e.mark)):(this.props.updateMark_fl(e),this.props.slider_upp(e.id,e.price,!e.mark))}},{key:"componentWillUpdate",value:function(e){localStorage.setItem("products",JSON.stringify(e.product))}},{key:"load_slider",value:function(){var e=this;this.props.product.map((function(t){e.props.slider_add(t.id,t.price,t.mark)}))}},{key:"product",value:function(){var e=this;return this.props.product.map((function(t){return!1===t.mark?l.a.createElement("div",{className:"list_cursor",key:t.id,id:t.id,onClick:function(){return e.props.select(t)}},l.a.createElement("div",{onClick:function(){return e.select_product(t)},className:"product-block"},l.a.createElement("div",{className:"block"},l.a.createElement("div",null,l.a.createElement("div",null,l.a.createElement("img",{src:t.image}))),l.a.createElement("div",null,"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u0430:",l.a.createElement("div",null,t.name)),l.a.createElement("div",null,"\u0426\u0435\u043d\u0430:",l.a.createElement("div",null,t.price))))):l.a.createElement("div",{key:t.id,id:t.id,onClick:function(){return e.props.select(t)}},l.a.createElement("div",{onClick:function(){return e.select_product(t)},className:"product-block"},l.a.createElement("div",{className:"active"}),l.a.createElement("div",{className:"block"},l.a.createElement("div",null,l.a.createElement("div",null,l.a.createElement("img",{src:t.image}))),l.a.createElement("div",null,"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u0430:",l.a.createElement("div",null,t.name)),l.a.createElement("div",null,"\u0426\u0435\u043d\u0430:",l.a.createElement("div",null,t.price)))))}))}},{key:"render",value:function(){return l.a.createElement("div",null,this.load_slider(),l.a.createElement("div",null,l.a.createElement("strong",null,l.a.createElement("h2",null,"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043f\u0440\u043e\u0434\u0443\u043a\u0442:"))),this.product())}}]),a}(n.Component);var k=Object(m.b)((function(e){return{product:e.prodList,active_product:e.select_product}}),(function(e){return Object(d.a)({select:p,updateMark_tr:v,updateMark_fl:E,slider_add:b,slider_upp:h},e)}))(f),_=a(8),y=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).setSlider=n.setSlider.bind(Object(_.a)(n)),n.state={value:"1"},n}return Object(s.a)(a,[{key:"setSlider",value:function(e){this.setState({value:e.target.value}),this.props.slider_upp(this.props.prod.id,e.target.value*this.props.prod.price,this.props.prod.mark)}},{key:"render",value:function(){return l.a.createElement("div",{className:"slider"},l.a.createElement("div",null,l.a.createElement("input",{type:"range",min:"1",max:"10",defaultValue:"1",onChange:this.setSlider})),l.a.createElement("div",null,"\u041a\u043e\u043b\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e: ",this.state.value),l.a.createElement("div",null,"\u0421\u0443\u043c\u043c\u0430: ",this.props.prod.price*this.state.value))}}]),a}(n.Component);var g=Object(m.b)((function(){return{}}),(function(e){return Object(d.a)({slider_upp:h},e)}))(y),O=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).summ=n.summ.bind(Object(_.a)(n)),n.state={style_basket:"none"},n}return Object(s.a)(a,[{key:"product",value:function(){return this.props.product.map((function(e){if(!0===e.mark)return l.a.createElement("div",{className:"product-block basket",key:e.id},l.a.createElement("div",{className:"block"},l.a.createElement("div",null,l.a.createElement("div",null,l.a.createElement("img",{src:e.image}))),l.a.createElement("div",null,"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u0430:",l.a.createElement("div",null,e.name)),l.a.createElement("div",null,"\u0426\u0435\u043d\u0430:",l.a.createElement("div",null,e.price))),l.a.createElement("div",null,l.a.createElement(g,{prod:e})),l.a.createElement("div",null))}))}},{key:"modal",value:function(){var e=this;return this.props.product.map((function(t){if(!0===t.mark)return e.props.slider.map((function(e){if(e.id===t.id&&!0===e.mark)return l.a.createElement("div",{key:t.id,id:t.id,className:"product_list"},l.a.createElement("div",null,t.name),l.a.createElement("div",null,t.price),l.a.createElement("div",null,e.price/t.price),l.a.createElement("div",null,e.price))}))}))}},{key:"summ",value:function(){var e=this,t=0;return this.props.slider.map((function(a,n){if(!0===a.mark&&(t=a.price+t),n+1===e.props.slider.length)return t}))}},{key:"show_modal",value:function(){this.setState({style_basket:"block"})}},{key:"hide_modal",value:function(){this.setState({style_basket:"none"})}},{key:"render",value:function(){var e={display:this.state.style_basket};return l.a.createElement("div",null,l.a.createElement("div",null,l.a.createElement("strong",null,l.a.createElement("h2",null,"\u0421\u043f\u0438\u0441\u043e\u043a \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u044b\u0445 \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u043e\u0432:"))),this.product(),l.a.createElement("div",{className:"total_amount"},l.a.createElement("div",null,"\u041e\u0431\u0449\u0430\u044f \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u043f\u043e\u043a\u0443\u043f\u043a\u0438:"),l.a.createElement("div",null,this.summ())),l.a.createElement("button",{onClick:this.show_modal.bind(this),className:"btn_buy btn"},"\u041a\u0443\u043f\u0438\u0442\u044c"),l.a.createElement("div",{style:e,className:"modal"},l.a.createElement("div",{className:"modal_back",onClick:this.hide_modal.bind(this)}),l.a.createElement("div",{className:"modal_window"},l.a.createElement("div",{className:"close_modal",onClick:this.hide_modal.bind(this)},l.a.createElement("strong",null,"X")),l.a.createElement("div",{className:"modal_heading"},l.a.createElement("strong",null,"\u0427\u0435\u043a")),l.a.createElement("div",{className:"modal_header"},l.a.createElement("div",null,"\u041f\u0440\u043e\u0434\u0443\u043a\u0442:"),l.a.createElement("div",null,"\u0426\u0435\u043d\u0430:"),l.a.createElement("div",null,"\u041a\u043e\u043b\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e:"),l.a.createElement("div",null,"\u0421\u0443\u043c\u043c\u0430:")),this.modal(),l.a.createElement("div",{className:"total_block"},l.a.createElement("div",{className:"total_name"},l.a.createElement("strong",null,"\u0418\u0442\u043e\u0433\u043e:")),l.a.createElement("div",{className:"total_sum"},l.a.createElement("span",null,l.a.createElement("strong",null,this.summ())))))))}}]),a}(n.Component);var j=Object(m.b)((function(e){return{product:e.prodList,slider:e.slider}}))(O),N=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={style_basket:"block",style_prod_list:"none"},n}return Object(s.a)(a,[{key:"basket",value:function(){this.setState({style_basket:"none"}),this.setState({style_prod_list:"block"})}},{key:"product_list",value:function(){this.setState({style_basket:"block"}),this.setState({style_prod_list:"none"}),window.location.reload()}},{key:"render",value:function(){var e={display:this.state.style_basket},t={display:this.state.style_prod_list};return l.a.createElement("div",null,l.a.createElement("div",{className:"wrapper"},l.a.createElement("div",{style:e},l.a.createElement(k,null)),l.a.createElement("div",{style:t},l.a.createElement(j,null)),l.a.createElement("div",null,l.a.createElement("button",{className:"btn_bpoduct_list btn",onClick:this.product_list.bind(this),style:t},"\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043a \u043f\u043e\u043a\u0443\u043f\u043a\u0430\u043c")),l.a.createElement("div",null,l.a.createElement("button",{className:"btn_backet btn",onClick:this.basket.bind(this),style:e},"\u0412 \u043a\u043e\u0440\u0437\u0438\u043d\u0443"))))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var S=a(2),w=[{id:0,name:"\u042f\u0431\u043b\u043e\u043a\u043e",price:10,image:"assets/images/apple.jpg",mark:!1},{id:1,name:"\u0411\u0430\u043d\u0430\u043d",price:12,image:"assets/images/banana.jpg",mark:!1}];var C=function(){try{var e=localStorage.getItem("products");if(null===e)return;return JSON.parse(e)}catch(t){return void console.log(t)}}();function D(){return void 0===C?w:C}var I=[];var L=Object(d.b)({prodList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D(),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_TR":var a=e.findIndex((function(e){return e.id===t.payload.id}));return[].concat(Object(S.a)(e.slice(0,a)),[t.payload],Object(S.a)(e.slice(a+1)));case"UPDATE_FL":var n=e.findIndex((function(e){return e.id===t.payload.id}));return[].concat(Object(S.a)(e.slice(0,n)),[t.payload],Object(S.a)(e.slice(n+1)));default:return e}},select_product:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SELECTOR":return t.payload;default:return e}},slider:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SLIDER_UPP":var a=e.findIndex((function(e){return e.id===t.payload.id}));return[].concat(Object(S.a)(e.slice(0,a)),[t.payload],Object(S.a)(e.slice(a+1)));case"SLIDER_ADD":var n=e.findIndex((function(e){return e.id===t.payload.id}));if(n!==t.payload.id)return[].concat(Object(S.a)(e),[t.payload]);default:return e}}}),T=Object(d.c)(L,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());i.a.render(l.a.createElement(m.a,{store:T},l.a.createElement(N,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[15,1,2]]]);
//# sourceMappingURL=main.9a6cbc54.chunk.js.map